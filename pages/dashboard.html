<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - South Americans Secrets</title>
    <link rel="icon" href="../assets/img/logoN.png" type="image/png">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.13/css/intlTelInput.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.13/js/intlTelInput.min.js"></script>
    
    <link rel="stylesheet" href="../assets/css/styles.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    
    <div id="header-placeholder"></div>

    <section class="dashboard-welcome">
        <div class="container">
            <h1 id="welcome-title">Welcome</h1>
        </div>
    </section>

    <nav class="dashboard-nav">
        <button class="tab-link active" data-tab="bookings">
            <i class="fas fa-calendar-alt"></i> My Bookings
        </button>
        <button class="tab-link" data-tab="profile">
            <i class="fas fa-user-circle"></i> My Profile
        </button>
        <!--<button class="tab-link" id="logout-btn-dashboard" style="background-color: #dc3545; color: white; margin-left: auto;">
            <i class="fas fa-sign-out-alt"></i> Log Out
        </button>-->
    </nav>

    <main class="dashboard-content-wrapper">
        <div class="container">
        
            <div id="bookings" class="tab-content active">
                <h2>Your Upcoming Reservations</h2>
                
                <div id="booking-list-container">
                    <p style="text-align: center; color: #888;">
                        <i class="fas fa-spinner fa-spin"></i> Loading your reservations...
                    </p>
                </div>
            </div>

            <div id="profile" class="tab-content">
            Â  Â  <h2>Your Profile</h2>
            Â  Â  
            Â  Â  <form id="profile-form">
            Â  Â  Â  Â  <h3 style="margin-bottom: 1.5rem; color: var(--color-primary);">
            Â  Â  Â  Â  Â  Â  <i class="fas fa-user"></i> Personal Information
            Â  Â  Â  Â  </h3>
            Â  Â  Â  Â  
            Â  Â  Â  Â  <div class="form-group">
            Â  Â  Â  Â  Â  Â  <label for="profile-name">
            Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-user"></i> Full Name:
            Â  Â  Â  Â  Â  Â  </label>
            Â  Â  Â  Â  Â  Â  <input type="text" id="profile-name" placeholder="Your full name" readonly>
            Â  Â  Â  Â  </div>
            Â  Â  Â  Â  
            Â  Â  Â  Â  <div class="form-group">
            Â  Â  Â  Â  Â  Â  <label for="profile-email">
            Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-envelope"></i> Email:
            Â  Â  Â  Â  Â  Â  </label>
            Â  Â  Â  Â  Â  Â  <input type="email" id="profile-email" placeholder="your.email@example.com" readonly>
            Â  Â  Â  Â  Â  Â  <small style="color: #888; display: block; margin-top: 5px;">
            Â  Â  Â  Â  Â  Â  Â  Â  Email cannot be changed
            Â  Â  Â  Â  Â  Â  </small>
            Â  Â  Â  Â  </div>
            Â  Â  Â  Â  
            Â  Â  Â  Â  <div class="form-group">
            Â  Â  Â  Â  Â  Â  <label for="profile-phone">
            Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-phone"></i> Phone:
            Â  Â  Â  Â  Â  Â  </label>
            Â  Â  Â  Â  Â  Â  <input type="tel" id="profile-phone" placeholder="+1 234 567 890" readonly>
            Â  Â  Â  Â  </div>
            Â  Â  Â  Â  
            Â  Â  Â  Â  <div style="display: flex; gap: 1rem; margin-top: 2rem; flex-wrap: wrap;">
            Â  Â  Â  Â  Â  Â  <button type="button" id="edit-profile-btn" class="btn-details" style="background-color: #007bff;">
            Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-edit"></i> Edit Profile
            Â  Â  Â  Â  Â  Â  </button>
            Â  Â  Â  Â  Â  Â  <button type="submit" id="save-profile-btn" class="btn-details" style="display: none; background-color: #28a745;">
            Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-save"></i> Save Changes
            Â  Â  Â  Â  Â  Â  </button>
            Â  Â  Â  Â  Â  Â  <button type="button" id="cancel-edit-btn" class="btn-details" style="display: none; background-color: #6c757d;">
            Â  Â  Â  Â  Â  Â  Â  Â  <i class="fas fa-times"></i> Cancel
            Â  Â  Â  Â  Â  Â  </button>
            Â  Â  Â  Â  </div>
            Â  Â  </form>

            Â  Â  <hr style="margin: 3rem 0; border: none; border-top: 2px solid #e0e0e0;">

            Â  Â  <div id="change-password-section">

                    <h3 class="modern-form-title">
                        <i class="fas fa-shield-alt"></i> Change Password
                    </h3>

                    <form id="change-password-form">

                        <div class="form-input-group">
                            <i class="fas fa-key input-icon"></i>
                            <div class="input-stack">
                                <label for="current-password">Current Password:</label>
                                <input type="password" id="current-password" class="modern-input" placeholder="Enter your current password" required>
                            </div>
                        </div>

                        <div class="form-input-group">
                            <i class="fas fa-lock input-icon"></i>
                            <div class="input-stack">
                                <label for="new-password">New Password:</label>
                                <input type="password" id="new-password" class="modern-input" placeholder="Enter new password (min. 6 characters)" required>
                            </div>
                        </div>

                        <div class="form-input-group">
                            <i class="fas fa-lock input-icon"></i>
                            <div class="input-stack">
                                <label for="confirm-password">Confirm New Password:</label>
                                <input type="password" id="confirm-password" class="modern-input" placeholder="Confirm new password" required>
                            </div>
                        </div>

                        <button type="submit" class="btn-details modern-submit-btn">
                            <i class="fas fa-shield-alt"></i> Update Password
                        </button>
                    </form>
                </div>
            </div>
    </main>
    
    <div id="footer-placeholder"></div>

    <script src="../assets/js/main.js"></script>
    
    <script type="module">
    import { auth, db } from "../assets/js/firebase.js";
    import { 
        onAuthStateChanged, 
        updateProfile,
        updatePassword,
        EmailAuthProvider,
        reauthenticateWithCredential,
        signOut,
        setPersistence,
        browserLocalPersistence
    } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-auth.js";
    import { ref, onValue, update, get, set } from "https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js";

    let originalProfileData = {};
    let currentUserGlobal = null;
    let phoneInputPlugin = null; // Variable para la librerÃ­a de telÃ©fono

    // ===========================================
    // LÃ“GICA DE PESTAÃ‘AS (TABS)
    // ===========================================
    function initializeTabs() {
        const tabs = document.querySelectorAll('.tab-link[data-tab]');
        const contents = document.querySelectorAll('.tab-content');

        tabs.forEach(tab => {
            tab.addEventListener('click', () => {
                tabs.forEach(item => item.classList.remove('active'));
                contents.forEach(content => content.classList.remove('active'));
                tab.classList.add('active');
                
                const targetId = tab.getAttribute('data-tab');
                const targetContent = document.getElementById(targetId);
                if (targetContent) {
                    targetContent.classList.add('active');
                }
            });
        });
    }

    // ===========================================
    // FUNCIÃ“N PARA CREAR TARJETAS DE BOOKING
    // ===========================================
    function createBookingCard(booking) {
        return `
        <div class="booking-card">
            <img src="${booking.tourImage || '../assets/img/logoN.png'}" alt="Tour Image" class="booking-card-img">
            <div class="booking-card-content">
                <span class="booking-status ${booking.status === 'CONFIRMED' ? 'confirmed' : 'pending'}">
                    ${booking.status || 'CONFIRMED'}
                </span>
                <h3>${booking.tourName || 'Tour Name Not Found'}</h3>
                <p class="booking-detail">
                    <i class="fas fa-calendar-alt"></i> 
                    <strong>Date:</strong> 
                    <span>${booking.date || 'No date'}</span>
                </p>
                <p class="booking-detail">
                    <i class="fas fa-users"></i> 
                    <strong>Participants:</strong> 
                    <span>${booking.participants || 'N/A'}</span>
                </p>
                <p class="booking-price">
                    <strong>Price:</strong> 
                    <span>${booking.price || '$0.00'}</span>
                </p>
                <a href="#" class="btn-details">View Details</a>
            </div>
        </div>
        `;
    }

    // ===========================================
    // FUNCIÃ“N PARA MOSTRAR MENSAJES
    // ===========================================
    function showMessage(message, type) {
        const existingMessage = document.querySelector('.dashboard-message');
        if (existingMessage) existingMessage.remove();
        
        const messageDiv = document.createElement('div');
        messageDiv.className = `dashboard-message ${type}`;
        messageDiv.innerHTML = `
            <i class="fas ${type === 'success' ? 'fa-check-circle' : 'fa-exclamation-circle'}"></i>
            <span>${message}</span>
        `;
        
        document.body.appendChild(messageDiv);
        
        setTimeout(() => {
            messageDiv.style.animation = 'slideOut 0.3s ease';
            setTimeout(() => messageDiv.remove(), 300);
        }, 4000);
    }

    // ===========================================
    // LISTENER DE LOGOUT
    // ===========================================
    function initializeLogout() {
        const logoutBtn = document.getElementById('logout-btn-dashboard');
        if (logoutBtn) {
            logoutBtn.addEventListener('click', async () => {
                if (confirm('Are you sure you want to log out?')) {
                    try {
                        await signOut(auth);
                        localStorage.removeItem('user');
                        window.location.href = '../index.html';
                    } catch (error) {
                        console.error('Logout error:', error);
                    }
                }
            });
        }
    }

    // ===========================================
    // INICIALIZAR TODO CUANDO EL DOM Y EL USUARIO ESTÃ‰N LISTOS
    // ===========================================
    document.addEventListener('DOMContentLoaded', () => {
        console.log('âœ… DOM Loaded - Waiting for Firebase user...');
        initializeTabs();
        initializeLogout();

        const unsubscribe = onAuthStateChanged(auth, async (user) => {
            if (!user) {
                localStorage.clear();
                window.location.href = '../pages/login.html';
                return;
            }

            console.log('âœ… Firebase user detected:', user.email);
            currentUserGlobal = user;
            unsubscribe(); 
            await initializeDashboard(user);
        });
    });

    // ===========================================
    // CONFIGURACIÃ“N PRINCIPAL DEL DASHBOARD
    // ===========================================
    async function initializeDashboard(user) {
        const title = document.getElementById("welcome-title"); 
        const profileName = document.getElementById("profile-name");
        const profileEmail = document.getElementById("profile-email");
        const profilePhone = document.getElementById("profile-phone");

        // --- INICIALIZAR LIBRERÃA DE TELÃ‰FONO ---
        phoneInputPlugin = window.intlTelInput(profilePhone, {
            utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.13/js/utils.js",
            initialCountry: "auto",
            geoIpLookup: callback => {
                fetch("https://ipapi.co/json")
                    .then(res => res.json())
                    .then(data => callback(data.country_code))
                    .catch(() => callback("us")); // 'us' como fallback
            }
        });
        // ------------------------------------------

        title.textContent = `Welcome, ${user.displayName || user.email.split("@")[0]}! ðŸ‘‹`;
        profileEmail.value = user.email;

        // ðŸ”„ Cargar datos desde Firebase Realtime Database
        const userRef = ref(db, `users/${user.uid}`);
        const snapshot = await get(userRef);
        let userData = snapshot.exists() ? snapshot.val() : {};

        profileName.value = userData.name || user.displayName || "";
        
        // Cargar el nÃºmero guardado en la librerÃ­a
        phoneInputPlugin.setNumber(userData.phone || "");

        // ===========================================
        // HABILITAR BOTONES DE PERFIL
        // ===========================================
        const editBtn = document.getElementById('edit-profile-btn');
        const saveBtn = document.getElementById('save-profile-btn');
        const cancelBtn = document.getElementById('cancel-edit-btn');
        const profileForm = document.getElementById('profile-form');

        if (!editBtn || !saveBtn || !cancelBtn || !profileForm) {
            console.error("âŒ Error: botones del perfil no encontrados en el DOM");
            return;
        }

        // Guardar estado inicial (obteniendo el nÃºmero desde la librerÃ­a)
        originalProfileData = {
            name: profileName.value,
            phone: phoneInputPlugin.getNumber()
        };

        // ðŸŸ¢ Editar
        editBtn.addEventListener('click', () => {
            console.log('âœï¸ Edit Profile clicked');
            profileName.readOnly = false;
            profilePhone.readOnly = false; // El plugin maneja esto internamente
            profileName.focus();

            editBtn.style.display = 'none';
            saveBtn.style.display = 'inline-flex';
            cancelBtn.style.display = 'inline-flex';
        });

        // ðŸ”´ Cancelar
        cancelBtn.addEventListener('click', () => {
            profileName.value = originalProfileData.name;
            // Resetear el nÃºmero usando la librerÃ­a
            phoneInputPlugin.setNumber(originalProfileData.phone);

            profileName.readOnly = true;
            profilePhone.readOnly = true;

            editBtn.style.display = 'inline-flex';
            saveBtn.style.display = 'none';
            cancelBtn.style.display = 'none';
        });

        // ðŸ’¾ Guardar
        profileForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const newName = profileName.value.trim();
            
            // --- VALIDAR Y OBTENER TELÃ‰FONO ---
            if (profilePhone.value.trim() && !phoneInputPlugin.isValidNumber()) {
                // Solo validar si el usuario escribiÃ³ algo
                showMessage("Please enter a valid phone number", "error");
                return;
            }
            // Obtener el nÃºmero en formato internacional (ej. "+12025550123")
            const newPhone = phoneInputPlugin.getNumber();
            // -----------------------------------

            if (!newName) return showMessage("Name cannot be empty", "error");

            saveBtn.disabled = true;
            saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';

            try {
                // Actualizar Firebase Auth
                await updateProfile(user, { displayName: newName });
                // Actualizar Realtime DB
                await update(userRef, {
                    name: newName,
                    phone: newPhone, // Guardar el nÃºmero formateado
                    updatedAt: new Date().toISOString()
                });

                showMessage("âœ… Profile updated successfully!", "success");

                profileName.readOnly = true;
                profilePhone.readOnly = true;
                editBtn.style.display = 'inline-flex';
                saveBtn.style.display = 'none';
                cancelBtn.style.display = 'none';

                title.textContent = `Welcome, ${newName}! ðŸ‘‹`;

                // Actualizar los datos originales guardados
                originalProfileData = { name: newName, phone: newPhone };

            } catch (error) {
                console.error("Error updating profile:", error);
                showMessage("Error updating profile: " + error.message, "error");
            } finally {
                saveBtn.disabled = false;
                saveBtn.innerHTML = '<i class="fas fa-save"></i> Save Changes';
            }
        });
        // ===========================================
        // LÃ“GICA PARA CAMBIAR CONTRASEÃ‘A
        // ===========================================
        const passwordForm = document.getElementById('change-password-form');
        
        // Comprobar si el formulario existe antes de aÃ±adir el listener
        if (passwordForm) {
            const currentPassInput = document.getElementById('current-password');
            const newPassInput = document.getElementById('new-password');
            const confirmPassInput = document.getElementById('confirm-password');
            const passSubmitBtn = passwordForm.querySelector('button[type="submit"]');

            passwordForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                // Usamos la variable global del usuario que ya tienes
                if (!currentUserGlobal) {
                    showMessage("User not found. Please log in again.", "error");
                    return;
                }

                const currentPassword = currentPassInput.value;
                const newPassword = newPassInput.value;
                const confirmPassword = confirmPassInput.value;

                if (newPassword !== confirmPassword) {
                    showMessage("New passwords do not match.", "error");
                    return;
                }

                if (newPassword.length < 6) {
                    showMessage("New password must be at least 6 characters.", "error");
                    return;
                }

                const originalBtnHtml = passSubmitBtn.innerHTML;
                passSubmitBtn.disabled = true;
                passSubmitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Updating...';

                try {
                    // 1. Crear la credencial para re-autenticar
                    const credential = EmailAuthProvider.credential(currentUserGlobal.email, currentPassword);
                    
                    // 2. Re-autenticar al usuario (MUY IMPORTANTE para cambiar contraseÃ±a)
                    await reauthenticateWithCredential(currentUserGlobal, credential);
                    
                    // 3. Si la re-autenticaciÃ³n es exitosa, actualizar la contraseÃ±a
                    await updatePassword(currentUserGlobal, newPassword);

                    showMessage("âœ… Password updated successfully!", "success");
                    passwordForm.reset(); // Limpiar el formulario

                } catch (error) {
                    console.error("Error updating password:", error);
                    let errorMsg = "Error updating password. Please try again.";
                    
                    if (error.code === 'auth/wrong-password') {
                        errorMsg = "Your current password is incorrect.";
                    } else if (error.code === 'auth/too-many-requests') {
                        errorMsg = "Too many attempts. Please try again later.";
                    }
                    showMessage(errorMsg, "error");
                } finally {
                    passSubmitBtn.disabled = false;
                    passSubmitBtn.innerHTML = originalBtnHtml;
                }
            });
        }
        await loadUserBookings(user);
    }

    async function loadUserBookings(user) {
        const bookingsContainer = document.getElementById("booking-list-container");
        const bookingsRef = ref(db, `reservations/${user.uid}`);

        bookingsContainer.innerHTML = `
            <p style="text-align: center; color: #888;">
                <i class="fas fa-spinner fa-spin"></i> Loading your reservations...
            </p>
        `;

        try {
            const snapshot = await get(bookingsRef);

            if (snapshot.exists()) {
                const bookingsData = snapshot.val();
                const bookingCards = Object.values(bookingsData)
                    .map(b => createBookingCard(b))
                    .join("");
                bookingsContainer.innerHTML = bookingCards;
            } else {
                bookingsContainer.innerHTML = `
                    <div style="text-align: center; padding: 3rem;">
                        <i class="fas fa-calendar-times" style="font-size: 4rem; color: #ddd; margin-bottom: 1rem;"></i>
                        <p style="color: #888; font-size: 1.1rem;">
                            You have no upcoming reservations.
                        </p>
                        <a href="../index.html" class="btn" style="margin-top: 1rem;">
                            Explore Tours
                        </a>
                    </div>
                `;
            }
        } catch (error) {
            console.error("Error loading bookings:", error);
            bookingsContainer.innerHTML = `
                <p style="color: red; text-align: center;">Error loading your reservations. Please try again later.</p>
            `;
        }
    }
    </script>

<style>
/* Estilos para los mensajes de dashboard */
.dashboard-message {
    position: fixed;
    top: 100px;
    right: 20px;
    padding: 1rem 1.5rem;
    border-radius: 8px;
    font-weight: 600;
    z-index: 10000;
    animation: slideIn 0.3s ease;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    display: flex;
    align-items: center;
    gap: 10px;
}
.dashboard-message.success {
    background-color: #d4edda;
    color: #155724;
    border-left: 4px solid #28a745;
}
.dashboard-message.error {
    background-color: #f8d7da;
    color: #721c24;
    border-left: 4px solid #dc3545;
}
@keyframes slideIn {
    from { transform: translateX(400px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}
@keyframes slideOut {
    from { transform: translateX(0); opacity: 1; }
    to { transform: translateX(400px); opacity: 0; }
}
@media (max-width: 768px) {
    .dashboard-message {
        right: 10px;
        left: 10px;
        top: 80px;
    }
}

/* Estilos para la librerÃ­a de telÃ©fono */
.iti {
    width: 100%;
}
.iti__country-list {
    z-index: 1001;
}

/* ===========================================
 * ESTILOS PARA FORMULARIO "YOUR PROFILE"
 * ===========================================
*/
#profile-form .form-group {
    margin-bottom: 1.5rem; 
}
#profile-form .form-group label {
    display: block; 
    font-weight: 600; 
    margin-bottom: 8px; 
    color: #333;
    font-size: 0.95rem;
}
#profile-form .form-group label i {
    margin-right: 8px; 
    color: var(--color-primary, #0056b3);
}
#profile-form .form-group input {
    width: 100%; 
    padding: 12px 15px; 
    border: 1px solid #ccc; 
    border-radius: 8px; 
    font-size: 1rem;
    font-family: 'Poppins', sans-serif; 
    box-sizing: border-box; 
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
#profile-form .form-group input:focus {
    border-color: var(--color-primary, #0056b3);
    box-shadow: 0 0 0 3px rgba(0,123,255,0.25); 
    outline: none;
}
#profile-form .form-group input[readonly] {
    background-color: #f1f1f1; 
    cursor: not-allowed;
}
#profile-form .form-group input#profile-phone {
    padding-left: 92px;
}
#profile-form {
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
}


/* ===========================================
 * Â¡NUEVOS ESTILOS PARA "CHANGE PASSWORD"!
 * ===========================================
*/
#change-password-section {
    max-width: 700px;
    margin-left: auto;
    margin-right: auto;
    padding: 2.5rem; /* Relleno interno */
    background: #ffffff; /* Fondo blanco */
    border-radius: 12px; /* Esquinas redondeadas */
    box-shadow: 0 10px 30px rgba(0,0,0,0.07); /* Sombra suave */
    border: 1px solid #e9e9e9;
}

.modern-form-title {
    font-family: 'Poppins', sans-serif;
    font-weight: 600;
    font-size: 1.75rem; /* TamaÃ±o de fuente grande */
    color: var(--color-primary, #0056b3); /* Color oscuro */
    margin-bottom: 2rem; /* Espacio debajo del tÃ­tulo */
    display: flex;
    align-items: center;
    gap: 12px; /* Espacio entre Ã­cono y texto */
}

/* El contenedor de la "caja" de input */
.form-input-group {
    display: flex;
    align-items: stretch;
    border: 1px solid #ccc;
    border-radius: 10px;
    margin-bottom: 1.5rem; /* Espacio entre cajas */
    background: #fff;
    transition: border-color 0.2s ease, box-shadow 0.2s ease;
}
.form-input-group:focus-within {
    border-color: var(--color-primary, #0056b3);
    box-shadow: 0 0 0 3px rgba(0,123,255,0.25);
}

/* El Ã­cono dentro de la caja */
.form-input-group .input-icon {
    padding: 18px 15px;
    color: #888;
    font-size: 1.1rem;
    border-right: 1px solid #eee;
    background-color: #f9f9f9;
    border-top-left-radius: 9px;
    border-bottom-left-radius: 9px;
    display: flex;
    align-items: center;
}

/* El contenedor para la etiqueta y el input */
.input-stack {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center; /* Centra verticalmente */
    padding: 8px 15px; /* Relleno interno */
}

.input-stack label {
    font-weight: 600;
    font-size: 0.85rem;
    color: #333;
    margin: 0;
}

/* El input de texto */
.modern-input,
.modern-input:focus {
    border: none !important; /* Quita todos los bordes */
    outline: none !important; /* Quita el contorno azul */
    box-shadow: none !important; /* Quita cualquier sombra */
    padding: 2px 0 0 0 !important; /* Ajuste de padding fino */
    font-size: 0.95rem;
    background: transparent;
    width: 100%;
}
.modern-input::placeholder {
    color: #999;
}

/* El nuevo botÃ³n */
.modern-submit-btn {
    width: 100%; /* Ancho completo */
    text-align: center;
    justify-content: center;
    font-size: 1rem;
    padding-top: 14px;
    padding-bottom: 14px;
    margin-top: 1rem;
    border-radius: 8px;
    background-color: var(--color-primary, #007bff);
}
</style>

    <script type="module" src="../assets/js/auth.js"></script>
</body>
</html>